<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Browser-Use</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath d='M50 10 C 77.61 10 100 32.39 100 60 C 100 87.61 77.61 110 50 110 C 22.39 110 0 87.61 0 60 C 0 32.39 22.39 10 50 10 Z M 50 20 C 33.43 20 20 33.43 20 50 C 20 66.57 33.43 80 50 80 C 66.57 80 80 66.57 80 50 C 80 33.43 66.57 20 50 20 Z M 50 30 C 61.05 30 70 38.95 70 50 C 70 61.05 61.05 70 50 70 C 38.95 70 30 61.05 30 50 C 30 38.95 38.95 30 50 30 Z' fill='rgb(220, 38, 38)'/%3E%3C/svg%3E" type="image/svg+xml">
</head>
<body class="bg-purple-50 min-h-screen flex items-center justify-center">
    <div id="app" class="w-full max-w-lg">

        <!-- Initial Task Entry View (v-if="!activeTask") -->
        <div v-if="!activeTask" class="bg-white rounded-lg shadow-lg p-8">
            <div class="flex items-center justify-center mb-8">
                 <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath d='M50 10 C 77.61 10 100 32.39 100 60 C 100 87.61 77.61 110 50 110 C 22.39 110 0 87.61 0 60 C 0 32.39 22.39 10 50 10 Z M 50 20 C 33.43 20 20 33.43 20 50 C 20 66.57 33.43 80 50 80 C 66.57 80 80 66.57 80 50 C 80 33.43 66.57 20 50 20 Z M 50 30 C 61.05 30 70 38.95 70 50 C 70 61.05 61.05 70 50 70 C 38.95 70 30 61.05 30 50 C 30 38.95 38.95 30 50 30 Z' fill='%23a855f7'/%3E%3C/svg%3E" alt="Logo" class="h-6 w-6 mr-2">
                <h1 class="text-xl font-semibold text-gray-700">Interactive Browser-Use</h1>
            </div>
            <h2 class="text-lg font-medium text-gray-600 mb-4 text-left">What would you like to do today?</h2>
            <form @submit.prevent="createTask">
                <input
                    type="text"
                    v-model="newTask.description"
                    class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-purple-500 mb-5 text-sm text-gray-500"
                    placeholder="e.g., 'Find and download my latest invoice from Stripe'"
                    required
                />
                <button
                    type="submit"
                    class="w-auto bg-purple-500 text-white px-6 py-2 rounded-md hover:bg-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 text-sm font-medium"
                >
                    Start
                </button>
            </form>
        </div>

        <!-- Task Status View (v-if="activeTask") -->
        <div v-if="activeTask" class="space-y-6">
            <!-- Top Status Bar -->
            <div class="bg-white rounded-lg shadow-md p-4 flex justify-between items-center">
                 <div class="flex items-center">
                     <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpath d='M50 10 C 77.61 10 100 32.39 100 60 C 100 87.61 77.61 110 50 110 C 22.39 110 0 87.61 0 60 C 0 32.39 22.39 10 50 10 Z M 50 20 C 33.43 20 20 33.43 20 50 C 20 66.57 33.43 80 50 80 C 66.57 80 80 66.57 80 50 C 80 33.43 66.57 20 50 20 Z M 50 30 C 61.05 30 70 38.95 70 50 C 70 61.05 61.05 70 50 70 C 38.95 70 30 61.05 30 50 C 30 38.95 38.95 30 50 30 Z' fill='rgb(220, 38, 38)'/%3E%3C/svg%3E" alt="Logo" class="h-6 w-6 mr-2">
                    <span class="font-medium text-gray-700">Goal:</span>
                    <span class="ml-2 text-gray-600">{{ activeTask.description }}</span>
                </div>
                <div class="flex items-center space-x-4">
                    <span class="text-sm text-gray-500">Status: Ready to Act</span>
                    <span class="text-sm text-gray-500">|</span>
                    <span class="text-sm text-gray-500">Progress: Step 1/2</span>
                    <button class="text-gray-400 hover:text-gray-600 text-xl">âŒ„</button>
                </div>
            </div>

            <!-- Browser Window Mockup -->
             <div class="bg-white rounded-lg shadow-md">
                <!-- Browser Tab Bar -->
                <div class="flex items-center px-4 py-2 border-b border-gray-200">
                    <div class="flex space-x-1.5 mr-4">
                        <span class="block h-3 w-3 bg-red-500 rounded-full"></span>
                        <span class="block h-3 w-3 bg-yellow-400 rounded-full"></span>
                        <span class="block h-3 w-3 bg-green-500 rounded-full"></span>
                    </div>
                    <div class="flex-grow bg-gray-100 rounded-md px-4 py-1 text-sm text-gray-600">
                        New Tab
                    </div>
                </div>
                <!-- Browser Content Area -->
                <div class="h-96 flex items-center justify-center text-center text-gray-400 p-8">
                     <div>
                         <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1">
                             <path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
                         </svg>
                         Waiting for action approval...
                     </div>
                 </div>
            </div>


            <!-- Action Bar -->
            <div class="bg-white rounded-lg shadow-md p-4 flex items-center justify-between">
                 <div>
                    <span class="font-semibold text-gray-700">Next Action:</span>
                    <span class="ml-2 text-gray-600">Unable to generate a plan for this goal. Starting by visiting the Stripe website</span>
                 </div>
                 <div class="flex space-x-3">
                    <button class="bg-purple-600 text-white px-4 py-1.5 rounded-md text-sm hover:bg-purple-700 flex items-center">
                         <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                           <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                         </svg>
                         Approve
                     </button>
                    <button class="bg-gray-200 text-gray-700 px-4 py-1.5 rounded-md text-sm hover:bg-gray-300">Back to Plan</button>
                    <button class="bg-gray-200 text-gray-700 px-4 py-1.5 rounded-md text-sm hover:bg-gray-300">Edit Action</button>
                    <button class="bg-gray-200 text-gray-700 px-4 py-1.5 rounded-md text-sm hover:bg-gray-300">Change Goal</button>
                 </div>
            </div>
        </div>
    </div>
    <script src="/static/app.js"></script>
    <script>
        // Simple Vue App setup - Modify as needed for your actual backend integration
        const app = Vue.createApp({
            data() {
                return {
                    connected: true, // Assume connected initially
                    newTask: {
                        description: '',
                    },
                    activeTask: null, // Start with no active task
                }
            },
            methods: {
                createTask() {
                    if (!this.newTask.description) return;
                    // Simulate task creation and switch view
                    this.activeTask = {
                        id: 'task-' + Date.now(), // Simple unique ID
                        description: this.newTask.description,
                        status: 'created' // Or some initial status
                    };
                    // Reset form
                    this.newTask.description = '';

                    // TODO: Add actual API call to backend to create the task
                     console.log('Task created:', this.activeTask);

                     // Simulate switching to the task status view
                     // In a real app, this would likely involve fetching task details
                },
                // Placeholder methods for buttons in the second view
                approveAction() { console.log('Approve clicked'); },
                backToPlan() { console.log('Back to Plan clicked'); },
                editAction() { console.log('Edit Action clicked'); },
                changeGoal() { console.log('Change Goal clicked'); },
            }
        });

        app.mount('#app');
    </script>
</body>
</html> 